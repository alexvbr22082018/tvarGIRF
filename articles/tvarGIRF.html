<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tvarGIRF • tvarGIRF</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="tvarGIRF">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tvarGIRF</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/tvarGIRF.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/angusmoore/tvarGIRF">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>tvarGIRF</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/angusmoore/tvarGIRF/blob/master/vignettes/tvarGIRF.Rmd"><code>vignettes/tvarGIRF.Rmd</code></a></small>
      <div class="hidden name"><code>tvarGIRF.Rmd</code></div>

    </div>

    
    
<p><code>tvarGIRF</code> is an <code>R</code> package that calculates generalised impulse response functions to reduced form shocks for threshold vector autoregressions estimated using the <code>tsDyn</code> package.</p>
<p><strong>Please note</strong>: this package is something I put together quickly for an uncompleted project because the only other implementation of GIRFs in R <a href="http://groups.google.com/group/tsdyn/t/5c517a94a3a3ab0c">that existed at the time</a> looks like it implements the bootstrap incorrectly to me. According to the <code>tsDyn</code> <a href="https://github.com/MatthieuStigler/tsDyn/wiki/FAQ#1-are-generalized-impulse-functions-girf-available-in-tsdyn">wiki</a>, GIRFs are now included in the <code>tsDyn</code> package, so you might have better luck with those.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the lastest released version of the package using the R <code>remotes</code> package:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(remotes)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"angusmoore/tvarGIRF"</span>, <span class="dt">ref =</span> <span class="st">"v0.1.2"</span>)</a></code></pre></div>
<p>You can also install the latest development version:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(remotes)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"angusmoore/tvarGIRF"</span>)</a></code></pre></div>
</div>
<div id="basic-usage" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-usage" class="anchor"></a>Basic usage</h2>
<p>The library extends the R <code>tsDyn</code> package. The following example illustrates how to create a simple GIRF for a threshold VAR using the <code>zeroyld</code> dataset provided with the <code>tsDyn</code> package.</p>
<p><code>GIRF</code> is given a reduced form shock - in the example below a shock to only the second variable <code><a href="https://www.rdocumentation.org/packages/base/topics/c">c(0,1)</a></code>. It is up to you to identify shocks; <code>tvarGIRF</code> won’t do it for you.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tsDyn)</a></code></pre></div>
<pre><code>## Registered S3 method overwritten by 'xts':
##   method     from
##   as.zoo.xts zoo</code></pre>
<pre><code>## Registered S3 method overwritten by 'quantmod':
##   method            from
##   as.zoo.data.frame zoo</code></pre>
<pre><code>## Registered S3 methods overwritten by 'forecast':
##   method             from    
##   fitted.fracdiff    fracdiff
##   residuals.fracdiff fracdiff</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tvarGIRF)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co"># Estimate an example TVAR using the zeroyld dataset included in the tsDyn package</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(zeroyld)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">exampleTVAR &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/tsDyn/topics/TVAR">TVAR</a></span>(zeroyld, <span class="dt">lag=</span><span class="dv">2</span>, <span class="dt">nthresh=</span><span class="dv">1</span>, <span class="dt">thDelay=</span><span class="dv">1</span>, <span class="dt">mTh=</span><span class="dv">1</span>, <span class="dt">plot=</span><span class="ot">FALSE</span>)</a></code></pre></div>
<pre><code>## Best unique threshold 10.653</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># Calculate GIRFs for a reduced form shock to the second variable (long.run)</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="kw"><a href="../reference/GIRF.html">GIRF</a></span>(exampleTVAR, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">H =</span> <span class="dv">10</span>, <span class="dt">R =</span> <span class="dv">10</span>)</a></code></pre></div>
<pre><code>## # GIRF of tvar  exampleTVAR 
## # A tibble: 20 x 2
##    short.run long.run
##        &lt;dbl&gt;    &lt;dbl&gt;
##  1  0.0321      1.06 
##  2  0.0851      0.991
##  3  0.139       1.01 
##  4  0.0853      0.852
##  5  0.0822      0.737
##  6  0.103       0.725
##  7  0.0704      0.686
##  8  0.000502    0.528
##  9 -0.0574      0.280
## 10  0.00916     0.360
## 11 -0.00549     0.349
## 12  0.00379     0.363
## 13  0.0344      0.402
## 14  0.0899      0.346
## 15  0.0799      0.250
## 16  0.0891      0.317
## 17  0.0179      0.221
## 18  0.0524      0.252
## 19  0.0714      0.285
## 20  0.106       0.245</code></pre>
<p>NB: These GIRFs are meaningless as I have used very few repetitions to calculate them. I have done this so that the examples don’t take too long to run. But you should use <em>much</em> larger values for your actual estimation.</p>
<div id="shocks-to-more-than-one-variable" class="section level3">
<h3 class="hasAnchor">
<a href="#shocks-to-more-than-one-variable" class="anchor"></a>Shocks to more than one variable</h3>
<p>Note that you can shock more than one variable. If you had a three equation TVAR, passing <code>shock = c(1,0,0)</code> would give you the GIRF to a reduced-form shock to the first equation, and <code>shock = c(1,1,0)</code> would be a reduced form shock to both the first and second. The values need not be 1 either. You can estimate the response to a 0.9 unit shock to one variable and a 0.645 to the other (just as an example!):</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="../reference/GIRF.html">GIRF</a></span>(exampleTVAR, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">0.9</span>, <span class="fl">0.645</span>), <span class="dt">H =</span> <span class="dv">10</span>, <span class="dt">R =</span> <span class="dv">10</span>)</a></code></pre></div>
<pre><code>## # GIRF of tvar  exampleTVAR 
## # A tibble: 20 x 2
##    short.run long.run
##        &lt;dbl&gt;    &lt;dbl&gt;
##  1     0.903    0.668
##  2     0.872    0.873
##  3     0.911    0.919
##  4     0.918    0.924
##  5     0.922    0.936
##  6     0.970    1.04 
##  7     0.955    1.05 
##  8     1.00     1.15 
##  9     1.08     1.27 
## 10     1.04     1.25 
## 11     1.08     1.20 
## 12     1.07     1.06 
## 13     1.05     1.01 
## 14     0.971    0.969
## 15     0.968    0.939
## 16     0.960    0.921
## 17     0.991    0.979
## 18     1.03     1.14 
## 19     1.03     1.12 
## 20     1.03     1.11</code></pre>
<p>This is helpful, as you will typically want to identify <em>structural</em> shocks. The reduced form shock will be some linear combination of those structural shocks. See the section “A note on shocks” for a bit more discussion.</p>
</div>
<div id="viewing-the-results" class="section level3">
<h3 class="hasAnchor">
<a href="#viewing-the-results" class="anchor"></a>Viewing the results</h3>
<p><code>tvarGIRF</code> has a couple helpful functions to help you view the results from <code>GIRF</code>.</p>
<p>The first is to simply print the results of an estimation:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">saved_girfs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/GIRF.html">GIRF</a></span>(exampleTVAR, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">H =</span> <span class="dv">10</span>, <span class="dt">R =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">saved_girfs <span class="co"># or, equivalently print(saved_girfs)</span></a></code></pre></div>
<pre><code>## # GIRF of tvar  exampleTVAR 
## # A tibble: 20 x 2
##    short.run long.run
##        &lt;dbl&gt;    &lt;dbl&gt;
##  1  -0.0154     1.04 
##  2  -0.0200     1.04 
##  3  -0.0153     0.959
##  4  -0.00490    0.890
##  5  -0.0415     0.771
##  6   0.00840    0.728
##  7  -0.0177     0.608
##  8  -0.00261    0.586
##  9   0.0286     0.653
## 10  -0.0394     0.530
## 11   0.0225     0.504
## 12   0.0268     0.543
## 13   0.0116     0.539
## 14   0.0183     0.570
## 15   0.0469     0.527
## 16   0.120      0.670
## 17   0.113      0.680
## 18   0.0822     0.573
## 19   0.0465     0.420
## 20   0.0618     0.455</code></pre>
<p>There is also a tidier for GIRFs (a la <a href="https://cran.r-project.org/web/packages/broom/vignettes/broom.html"><code>broom</code></a>):</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/generics/topics/tidy">tidy</a></span>(saved_girfs)</a></code></pre></div>
<pre><code>## # A tibble: 40 x 3
##    horizon variable  response
##      &lt;int&gt; &lt;chr&gt;        &lt;dbl&gt;
##  1       1 short.run -0.0154 
##  2       2 short.run -0.0200 
##  3       3 short.run -0.0153 
##  4       4 short.run -0.00490
##  5       5 short.run -0.0415 
##  6       6 short.run  0.00840
##  7       7 short.run -0.0177 
##  8       8 short.run -0.00261
##  9       9 short.run  0.0286 
## 10      10 short.run -0.0394 
## # … with 30 more rows</code></pre>
<p>You can <code>View</code> GIRFs in the spreadsheet viewer. You can also plot your GIRFs, using a built in <code>plot</code> function that uses <code>ggplot2</code>:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(saved_girfs)</a></code></pre></div>
<p><img src="tvarGIRF_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>(Again, these GIRFs are meaningless as I have used very few repetitions to calculate them, which is why they look so wonky. I have done this so that the examples don’t take too long to run. But you should use <em>much</em> larger values for your actual estimation.)</p>
</div>
</div>
<div id="a-note-on-shocks" class="section level2">
<h2 class="hasAnchor">
<a href="#a-note-on-shocks" class="anchor"></a>A note on shocks</h2>
<p><code>tvarGIRF</code> <strong>does not identify shocks for you</strong>. The argument you supply to tvarGIRF is for a reduced form shock. This is rarely what you want. The reduced form shocks are extremely unlikely to be uncorrelated with one another, and so it makes little sense to consider one such isolated shock.</p>
<p>Instead, you will want to identify <em>structural</em> shocks that <em>are</em> uncorrelated with one another.</p>
<p>If you want to use structural shocks, you will have to identify the shocks yourself and supply the reduced form shock that corresponds to your chosen structural shock. <strong>It is up to you to identify shocks; <code>tvarGIRF</code> won’t do it for you.</strong> There are many strategies for identifying structural shocks, <code>tvarGIRf</code> can’t help with this.</p>
<p>As an example, let’s identify a structural shock for the TVAR we estimated above using timing restrictions / Cholesky decomposition. Our timing assumption is that shocks to <code>short.run</code> affect both variables contemparenously, but shocks to <code>long.run</code> affect <code>short.run</code> with a one period lag.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>Using our estimated TVAR, we can get the residuals by:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">e &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/residuals">resid</a></span>(exampleTVAR)</a></code></pre></div>
<p>We calculate the covariance matrix by:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">cov_matrix &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/t">t</a></span>(e) <span class="op">%*%</span><span class="st"> </span>e</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(cov_matrix)</a></code></pre></div>
<pre><code>##           short.run  long.run
## short.run  42.70877  54.85373
## long.run   54.85373 124.82032</code></pre>
<p>And take an upper triangular Cholesky decomposition:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/chol">chol</a></span>(cov_matrix)</a></code></pre></div>
<pre><code>##           short.run long.run
## short.run  6.535195 8.393587
## long.run   0.000000 7.373466</code></pre>
<p>I could then calculate the GIRF to the identified structural shock to the variable <code>short.run</code> by running:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">structural_girfs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/GIRF.html">GIRF</a></span>(exampleTVAR, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">6.535195</span>, <span class="fl">8.393587</span>), <span class="dt">H =</span> <span class="dv">10</span>, <span class="dt">R =</span> <span class="dv">10</span>)</a></code></pre></div>
<p>Which is what my identification scheme tells me the structural shock looks like as a reduced form shock (the first row of the cholesky-decomposed covariance matrix).</p>
</div>
<div id="girfs-conditional-on-starting-in-a-particular-regime" class="section level2">
<h2 class="hasAnchor">
<a href="#girfs-conditional-on-starting-in-a-particular-regime" class="anchor"></a>GIRFs conditional on starting in a particular regime</h2>
<p>The <code>restrict.to</code> argument takes an integer corresponding to which regime you wish to restrict the GIRF to. For instance, using the toy example we started with before, if I estimate the following TVAR:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(zeroyld)</a>
<a class="sourceLine" id="cb24-2" data-line-number="2">exampleTVAR &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/tsDyn/topics/TVAR">TVAR</a></span>(zeroyld, <span class="dt">lag =</span> <span class="dv">2</span>, <span class="dt">nthresh =</span> <span class="dv">1</span>, <span class="dt">thDelay =</span> <span class="dv">1</span>, <span class="dt">mTh =</span> <span class="dv">1</span>, <span class="dt">plot =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<pre><code>## Best unique threshold 10.653</code></pre>
<p>I have a TVAR with <em>two</em> regimes. These are regimes are denoted by <code>1</code> when then threshold variable (in this case <code>short.run</code>) is below my estimated threshold (<code>10.653</code> in this example) and denoted by <code>2</code> when it is above the threshold value. This scales to more regimes: <code>1</code> corresponds to the lowest regime and <code>nthresh+1</code> to the highest regime.</p>
<p>You can see the names of your regimes by <code>print</code>ing your TVAR:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">exampleTVAR</a></code></pre></div>
<pre><code>## Model TVAR with  1  thresholds
## 
## $Bdown
##                      Intercept short.run -1 long.run -1 short.run -2
## Equation short.run 0.048644738    0.9211813  0.02872384   0.05347747
## Equation long.run  0.007964404    0.1835720  0.97111008  -0.14157883
##                     long.run -2
## Equation short.run -0.006114365
## Equation long.run  -0.015307980
## 
## $Bup
##                    Intercept short.run -1 long.run -1 short.run -2
## Equation short.run  1.561918    1.1780904 -0.03076567   -0.3468208
## Equation long.run   2.037192    0.7989221  0.81823826   -0.8562527
##                    long.run -2
## Equation short.run  0.06986963
## Equation long.run   0.05771228
## 
## 
## Threshold value[1] "10.653"</code></pre>
<p>My regimes are called <code>Bdown</code> (the regime denoted by 1, as it appears first) and <code>Bup</code> (the regime denoted by 2, as it appears second).</p>
<p>You can also see which regime your estimated model is in at each point in your estimation sample by looking at:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/tsDyn/topics/regime">regime</a></span>(exampleTVAR)</a></code></pre></div>
<pre><code>##   [1] NA NA  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
##  [24]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
##  [47]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
##  [70]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
##  [93]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [116]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [139]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [162]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [185]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [208]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [231]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [254]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [277]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [300]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [323]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [346]  1  1  1  1  2  2  2  2  1  1  2  2  2  2  2  2  2  2  2  2  2  2  2
## [369]  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  1  2  1  1  1  2  2
## [392]  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  1
## [415]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [438]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [461]  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1</code></pre>
<p>And you could confirm that these correspond to <code>short.run</code> being above or below the estimated threshold value.</p>
<p>The <code>restrict.to</code> argument in tvarGIRF uses those regime numbers. Suppose I want to examine GIRFs conditional on starting in regime <code>Bdown</code>, when <code>short.run</code> is below my threshold. This corresponds to regime <code>1</code>. So I would use <code>restrict.to = 1</code> in my call to GIRF:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="kw"><a href="../reference/GIRF.html">GIRF</a></span>(exampleTVAR, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">H =</span> <span class="dv">10</span>, <span class="dt">R =</span> <span class="dv">10</span>, <span class="dt">restrict.to =</span> <span class="dv">1</span>)</a></code></pre></div>
<pre><code>## # GIRF of tvar  exampleTVAR 
## # A tibble: 20 x 2
##    short.run long.run
##        &lt;dbl&gt;    &lt;dbl&gt;
##  1   0.0182     1.05 
##  2   0.0261     0.955
##  3  -0.0126     0.902
##  4  -0.0228     0.835
##  5  -0.00768    0.650
##  6   0.0141     0.610
##  7   0.0581     0.517
##  8   0.0750     0.426
##  9   0.148      0.458
## 10   0.170      0.447
## 11   0.203      0.487
## 12   0.238      0.556
## 13   0.212      0.490
## 14   0.247      0.512
## 15   0.286      0.565
## 16   0.313      0.599
## 17   0.317      0.591
## 18   0.325      0.512
## 19   0.367      0.580
## 20   0.342      0.557</code></pre>
<p>(NB: Again, I am using far too few repetitions to calculate meaningful GIRFs, but I don’t want the examples to take too long.)</p>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>This is not a very sensible assumption in this context and is meant purely to illustrate how you might go about this identification strategy using <code>tvarGIRF</code>. There are many problems with the identification strategy I use here, including that I assume that the impact of the structural shocks is the same in both regimes.<a href="#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#installation">Installation</a></li>
      <li><a href="#basic-usage">Basic usage</a></li>
      <li><a href="#a-note-on-shocks">A note on shocks</a></li>
      <li><a href="#girfs-conditional-on-starting-in-a-particular-regime">GIRFs conditional on starting in a particular regime</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Angus Moore.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
